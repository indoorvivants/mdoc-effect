<html><head><title>Mdoc helper for Cats Effect: Cats Effect 2 </title><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/monokai-sublime.min.css" /><script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script><script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/languages/scala.min.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" href="/assets/tailwind.css" /><script src="/assets/search.js" defer="defer"></script><script src="/assets/search-index.js" defer="defer"></script><link rel="stylesheet" href="/assets/subatomic-search.css" /><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /></head><body onclick="SubatomicSearchFrontend.sayHello()" class="bg-gradient-to-r from-emerald-800 to-sky-700 mt-4 w-full"><header class="flex m-2 mb-4 md:m-auto md:w-11/12 lg:max-w-7xl flex-col md:flex-row md:items-center justify-between mb-2"><div><a class="block text-6xl text-white" href="/">Mdoc helper for Cats Effect</a></div><div id="searchContainer"></div><div class="site-links"><a href="https://github.com/indoorvivants/mdoc-effect"><img class="w-12 opacity-70 hover:opacity-100" src="https://cdn.svgporn.com/logos/github-icon.svg" /></a></div></header><main class="rounded-xl bg-white m-2 mb-4 md:m-auto md:w-11/12 lg:max-w-7xl p-4 flex flex-col-reverse md:flex-row gap-6"><aside class="lg:w-64 shrink-1 lg:shrink-0 grow-0 md:border-r-2 max-w-[300px] border-slate-200 pr-2"><ul class="text-2xl p-4 block"><li><a class="" href="/index.html">Home </a><ul class="text-xl p-2 block"></ul></li><li><a class="font-bold" href="/ce2/index.html">Cats Effect 2 </a><ul class="text-xl p-2 block"></ul></li><li><a class="" href="/ce3/index.html">Cats Effect 3 </a><ul class="text-xl p-2 block"></ul></li></ul></aside><article class="grow-4 lg:max-w-6xl markdown"><div><h2><a href="#usage" id="usage">Usage</a></h2>
<p>Just use <code>io-silent</code> and make sure the last value the codeblock returns is
of type <code>IO[_]</code>, for example:</p>
<pre><code class="language-md">```scala mdoc:io-silent
import cats.effect._
import scala.concurrent._
import scala.concurrent.duration._
import cats.syntax.all._

implicit val tm = IO.timer(ExecutionContext.global)
implicit val cs = IO.contextShift(ExecutionContext.global)

def go(i: Int): IO[Unit] = i match {
  case 0 =&gt; IO.unit
  case n =&gt; IO.sleep(5.millis) *&gt; IO(println(s&quot;tick $i&quot;)) &gt;&gt; go(n - 1)
}

go(10)
```
</code></pre>
<p>Which will be executed, the output captured and rendered separately:</p>
<pre><code class="language-scala">import cats.effect._
import scala.concurrent._
import scala.concurrent.duration._
import cats.syntax.all._

implicit val tm = IO.timer(ExecutionContext.global)
implicit val cs = IO.contextShift(ExecutionContext.global)

def printIO(s: Any) = IO(System.out.println(s))

def go(i: Int): IO[Unit] = i match {
  case 0 =&gt; IO.unit
  case n =&gt; IO.sleep(5.millis) *&gt; printIO(s&quot;tick $i&quot;) &gt;&gt; go(n - 1)
}

go(10)
</code></pre>
<div class='terminal'><pre><code class = 'nohighlight'>tick 10
tick 9
tick 8
tick 7
tick 6
tick 5
tick 4
tick 3
tick 2
tick 1
</code></pre></div>
</div></article></main><footer class="text-center m-4 p-4 text-lg text-white font-bold m-auto w-full">Â© 2021-2024 Anton Sviridov</footer></body></html>